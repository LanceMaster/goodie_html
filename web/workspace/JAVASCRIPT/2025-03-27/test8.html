<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>계산기</title>
    <style>
        * { box-sizing: border-box; }
        #calculator {
            margin: auto;
            border: 2px solid black;
        }
        #calculator input[type="text"] {
            width: 210px;
            height: 50px;
            font-size: 2em;
            font-weight: bold;
            text-align: right;
            border: 1px solid black;
            overflow: hidden;
        }
        #calculator input[type="button"] {
            font-size: 1.5em;
            font-weight: bold;
            width: 50px;
            height: 50px;
        }
    </style>
</head>
<body>
    <h2>계산기 만들기</h2>

    <table id="calculator">
        <tr>
            <th colspan="4">
                <input type="text" value="0" id="result" readonly>
            </th>
        </tr>
        <tr>
            <th><input type="button" value="("></th>
            <th><input type="button" value=")"></th>
            <th><input type="button" value="%"></th>
            <th><input type="button" value="AC"></th>
        </tr>
        <tr>
            <th><input type="button" value="7"></th>
            <th><input type="button" value="8"></th>
            <th><input type="button" value="9"></th>
            <th><input type="button" value="/"></th>
        </tr>
        <tr>
            <th><input type="button" value="4"></th>
            <th><input type="button" value="5"></th>
            <th><input type="button" value="6"></th>
            <th><input type="button" value="*"></th>
        </tr>
        <tr>
            <th><input type="button" value="1"></th>
            <th><input type="button" value="2"></th>
            <th><input type="button" value="3"></th>
            <th><input type="button" value="-"></th>
        </tr>
        <tr>
            <th><input type="button" value="0"></th>
            <th><input type="button" value="."></th>
            <th><input type="button" value="="></th>
            <th><input type="button" value="+"></th>
        </tr>
    </table>

    <script>
        // 결과 화면 요소 선택
        const resultField = document.getElementById("result");

        // 모든 버튼에 클릭 이벤트 추가
        document.querySelectorAll("#calculator input[type='button']").forEach(button => {
            button.addEventListener("click", () => {
                const value = button.value;
                console.log(value);

                if (value === "AC") {
                    // AC 버튼: 화면 초기화
                    resultField.value = "0";
                } else if (value === "=") {
                    // = 버튼: 계산 결과 표시
                    try {
                        resultField.value = eval(resultField.value); // 수식 계산
                    } catch (error) {
                        resultField.value = "Error"; // 잘못된 수식 처리
                    }
                } else {
                    // 일반 버튼: 화면에 값 추가
                    if (resultField.value === "0" || resultField.value === "Error") {
                        resultField.value = value; // 초기값 대체
                    } else {
                        resultField.value += value; // 값 추가
                    }
                }
            });
        });
    </script>
</body>
</html>